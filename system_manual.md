# 学習塾・学童保育施設運営管理システム マニュアル

## 1. はじめに
本システムは、学習塾・学童保育施設の運営を円滑化するためのAppSheetベースのアプリケーション群です。問い合わせ管理から生徒・保護者情報、スケジュール、請求、給与計算まで、多岐にわたる業務を一元管理し、効率化を図ることを目的としています。
本マニュアルは、システムの全機能について詳細な操作方法、ワークフロー、注意点を解説します。システムを正確かつ効果的に活用するためにご参照ください。

## 2. システム全体フロー
以下にシステム全体の基本的な流れを示します。各ステップの詳細は後述のアプリ説明をご参照ください。

### 問い合わせ受付 〜 データ生成
- 問い合わせアプリ: お客様からの問い合わせを受領し、営業フォローアップを実施。
- 契約書・利用調査書を送付し、保護者に入力を依頼。
- （外部連携）Jaccsオンライン口座登録: 保護者が口座登録フォームから情報を入力。登録完了後、指定メールアドレスに完了通知が届く。
- 問い合わせアプリ: 契約情報に基づき、生徒・保護者データを生成（「保護者会員データ追加」ボタン）。

### 生徒・スタッフ情報管理
生徒基本情報管理アプリ:
- 問い合わせアプリから移行されたデータを基に、詳細情報（契約書、調査書内容）を追加入力・修正。
- Jaccsからの通知メールに基づき、銀行口座情報を登録。
- 「会員契約」情報（利用コース、期間等）を登録（→請求明細作成の元データ）。
- 「生徒スケジュール」情報（利用曜日・時間、習い事、送迎等）を登録（→シフトデータ生成、請求計算の元データ）。
- （スタッフ情報）「デフォルト勤務」情報（基本シフト、役割、担当習い事等）を登録（→シフトデータ生成の元データ）。

### シフト作成・管理
生徒基本情報管理アプリ（シフトデータ生成機能）:
- 登録された「生徒スケジュール」「デフォルト勤務」に基づき、指定期間・シフト種類の日次シフトデータ（生徒予定実績）を生成。

生徒基本情報管理アプリ（生徒予定実績/シフト表）:
- 生成された日次シフトにスタッフを割り当て、欠席・振替等を反映。
- 内容を確定後、「シフトデータ更新」ボタンでスプレッドシート等に反映。

### 請求プロセス
生徒基本情報管理アプリ（請求関連機能）:
- 請求カレンダーでスケジュールを確認。
- 「請求明細データ生成」機能で、会員契約情報・生徒予定実績・長期休み情報に基づき、月次の請求明細を作成。
- 生成された「請求明細」を確認・修正。
- 締切日までに「請求確定」を実行。
- 「PDF・Gコレクト生成」を実行し、内容を最終確認。
- 「メール送信」機能で保護者に請求書を送付。

### 当日運用
- 入退室アプリ: 生徒・スタッフが登所・降所時に打刻。
- 連絡事項フォーム（外部）: 保護者からの欠席連絡、時間変更等をGoogleフォーム等で受け付け、生徒予定実績に手動で反映。

### 給与計算プロセス
- 給与スタッフアプリ: スタッフが日々の勤務実績（時間、業務内容、交通費）をセルフ入力。
- 給与管理アプリ（承認機能）: 管理者が入力された勤務実績を毎月3〜4日までに承認。
- 給与管理アプリ（給与明細データ生成）: 承認された実績と登録済みの時給・交通費に基づき、給与明細を生成。
- 給与管理アプリ（給与明細/出力）: 生成された明細を確認し、PDF・CSVデータを出力して支払い処理を行う。

### 初出勤前手続き (スタッフ)
給与管理アプリ:
- 「従業員情報」にスタッフ基本情報を登録。
- 契約内容に基づき「就労条件通知書」を自動発行（詳細要確認）。
- 「時給情報」を登録し、給与計算ロジックに反映。
- 「経路情報」（交通費）を登録。

### 長期休み運用
- 長期休みアプリ/フォーム: 保護者が長期休み期間中の利用希望（日程、AM/PM、食事、イベント）を入力。
- 入力されたデータを基にコマ数を計算し、請求管理プロセスで「請求明細データ生成（長期休み）」を実行して請求額に反映。 